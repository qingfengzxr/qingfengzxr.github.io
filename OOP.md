[TOC]



# 面向对象编程思想总结

## 一、面向对象编程思想简介

#### 什么是面向对象？

面向对象是一种编程思想，把具有相同属性和动作的实体抽象成为一个类(集合)、统称。类似于现实世界中对物品、动物等进行分类。这个类的实体具有相同的属性和相同的行为。

#### 什么是面向对象编程？

面向对象编程(Object Oriented Programming)是基于类和对象，在这一基础上进行编程的程序设计思想。程序就是一系列对象的集合，程序负责控制调度这些对象交互从而完成最终任务。

举例：把大象装入冰箱要几步？

面向过程思想：

1. 打开冰箱

2. 装入大象

3. 关闭冰箱

面向对象思想：

设计一个具备装大象功能的对象，让这个对象去完成这个工作。



其核心是思维的转变：面向对象中，程序员从具体的操作者变成了指挥者。

#### 优缺点如何？

优点：

1. 扩展性强（对象增加减少不影响其他对象运行）
2. 灵活性高
3. 可重用性高

缺点：

1. 程序的复杂度提高了
2. 无法准确预知结果，分析问题的时候也不像面向过程那样简便。



## 二、四大基本特征

#### 抽象

抽象是提取现实世界中某事物的关键特性，为该事物构建模型的过程。对同一事物中不同的需求下，需要提取的特性可能不一样。得到的抽象模型中一般包含：属性（数据）和操作（行为）。这个抽象模型我们称之为类，通过对类进行实例化得到具体的对象。



#### 封装

封装可以使类具有独立性和隔离性，从而保证类的高内聚。只暴露给类外部或者子类必须的属性和操作。



#### 继承

继承是对现有类的一种复用机制。一个类如果继承现有的类，则这个类将拥有被继承类的所有非私有特性（属性和操作）。这里指的继承包含类的继承和接口的实现。常见的继承方法有共有继承、私有继承、多重继承、多层继承。



#### 多态

多态是在继承的基础上实现的。多态的三个要素：继承、重写和父类引用指向子类的对象。父类引用指向不同的子类对象时，**调用相同的方法，呈现出不同的行为；就是类的多态性**。多态还可分为编译时多态（静态多态性）和运行时多态（动态多态性）。另外类的函数重载、运算符重载，也可算为多态的特性。



## 三、七大设计原则

在面向对象四大基础特性之上，我们在做面向对象设计时，还需要遵循一些基本设计原则。

- SOLID原则（单一职责原则、开放关闭原则、里氏替换原则、接口隔离原则和依赖倒置原则）；
- 迪米特法则；
- 组合优于继承原则（合成复用原则）；

下面是这七大原则的详细描述：

#### 单一责任原则

一个类应该只有一个引起变化的原因。

#### 开放关闭原则

类应该对扩展开放，对修改关闭；我们的目标是允许类容易扩展，在不修改现有代码的情况下，就可搭配新的行为。这样的设计具有弹性可以应对改变，可以接受新的功能来应对改变的需求。

#### 里氏替换原则

所有引用基类的地方必须透明地使用其子类对象。只要有父类出现的地方，都可以用子类来替代。

#### 接口隔离原则

客户端不应该依赖它不需要的接口；一个类对另一个类的依赖应该建立在最小的接口上。

#### 赖倒置原则

要依赖抽象，不要依赖具体类。

#### 迪米特法则

又叫最少知识原则，只和你的密友谈话。

#### 组合犹于继承原则

多用组合，少用继承；使用组合建立系统具有很大的弹性，不仅可以将算法封装成类，更可以“在运行时动态地改变行为”，只要组合的行为对象符合正确的接口标准即可。



* 另外还有如下几个常用的原则：

#### 好莱坞原则

别调用（打电话给我们）我们，我们会调用（打电话给）你。

#### 封装变化

找出应用中可能需要变化之处，把他们独立出来，不要和那些不需要变化的代码混杂在一起。

#### 针对接口编程，不要对实现编程

针对接口编程的真正意思是针对超类型（supertype）编程，这样可以在运行时才指定具体实现对象。

#### 为了交互对象之间的松耦合设计而努力

松耦合的设计之所以能让我们建立有弹性的OO系统，能够应付变化，是因为对象之间的互相依赖降到了最低。



## 24种设计模式

在遵循上面这些面向对象设计原则的基础上，前辈们总结出一些解决不同问题场景的通用设计模式，以四人帮的gof23最为知名。24种设计模式（gol23+1）:

* 创建型模式

1. 简单工厂模式（不包含在gof23中）
2. 工厂模式   （由子类决定要创建一个具体类是哪一个）
3. 抽象工厂模式    （允许客户创建对象的家族，而无需指定他们的具体类）
4. 单例模式    （确保有且只有一个对象被创建）
5. 原型模式
6. 创建者模式

* 结构型模式

1. 组合模式   （客户用一致的方式处理对象集合和单个对象）
2. 装饰者模式  （包装一个对象，以提供新的功能）
3. 外观模式   （简化一群类的接口）
4. 适配器模式  （封装对象并提供不同的接口）
5. 代理模式   （包装对象，以控制对此对象的访问）
6. 享元模式
7. 桥接模式

* 行为型模式

1. 观察者模式   （让对象能够在状态改变时被通知）
2. 策略模式   （封装可以互换的行为，并使用委托来决定要使用哪一个）
3. 状态模式   （封装了基于状态的行为，并使用委托在行为之间的切换）
4. 中介模式
5. 模板模式     （由子类决定如何实现一个算法中的步骤）
6. 命令模式     （封装请求称为对象）
7. 备忘录模式
8. 访问者模式
9. 解释器模式
10. 迭代器模式  （在对象的集合之中游走，而不暴露集合的实现）
11. 职责链模式

















## 参考附录

1. [该文章基于Python详细介绍了关于类以及类的相关衍生，在面向对象编程中的实际运用][https://www.jianshu.com/p/26bc163d3259]

2. [该文章基于JACA详细介绍了面向对象编程四大特征的实现原理][https://www.jianshu.com/p/d66dcdbe3594]

